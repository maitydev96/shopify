{"version":3,"sources":["/var/gadget/codegen/framework-1756629908236-Rf0PMG/src/remix/ErrorBoundary.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { overlayTemplate } from \"../core/errors/overlay\";\nimport { useRouteError } from \"@remix-run/react\";\nimport { ProductionErrorPage } from \"../react-router/ErrorBoundary\";\n\nexport function DevelopmentErrorBoundary(): React.ReactNode {\n  const error = useRouteError();\n  let title: string;\n  let data: string | undefined;\n\n  if (typeof error === \"object\" && error !== null && \"status\" in error && \"statusText\" in error && \"data\" in error) {\n    title = `${error.status}${error.statusText ? `: ${JSON.stringify(error.statusText)}` : \"\"}`;\n    data = JSON.stringify(error.data);\n  } else if (error instanceof Error) {\n    title = `Error: ${error.message}`;\n    data = error.stack;\n  } else {\n    title = \"An unknown error occurred\";\n  }\n\n  const { html, javascript } = overlayTemplate({\n    style: \"rr7Frontend\",\n    errorMessage: title,\n    stackTrace: data,\n    environmentSlug: process.env.GADGET_ENV!,\n  });\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.appendChild(document.createTextNode(javascript));\n    document.head.appendChild(script);\n  }, [javascript]);\n\n  return (\n    <html>\n      <head></head>\n      <body>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: html,\n          }}\n        ></div>\n      </body>\n    </html>\n  );\n}\n\nexport function ErrorBoundary(): React.ReactNode {\n  if (process.env.NODE_ENV === \"production\") {\n    return <ProductionErrorPage />;\n  }\n\n  return <DevelopmentErrorBoundary />;\n}\n"],"names":["DevelopmentErrorBoundary","ErrorBoundary","error","useRouteError","title","data","status","statusText","JSON","stringify","Error","message","stack","html","javascript","overlayTemplate","style","errorMessage","stackTrace","environmentSlug","process","env","GADGET_ENV","useEffect","script","document","createElement","appendChild","createTextNode","head","body","div","dangerouslySetInnerHTML","__html","NODE_ENV","ProductionErrorPage"],"mappings":";;;;;;;;;;;IAKgBA,wBAAwB;eAAxBA;;IA0CAC,aAAa;eAAbA;;;+DA/CiB;yBACD;wBACF;+BACM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE7B,SAASD;IACd,MAAME,QAAQC,IAAAA,qBAAa;IAC3B,IAAIC;IACJ,IAAIC;IAEJ,IAAI,OAAOH,UAAU,YAAYA,UAAU,QAAQ,YAAYA,SAAS,gBAAgBA,SAAS,UAAUA,OAAO;QAChHE,QAAQ,GAAGF,MAAMI,MAAM,GAAGJ,MAAMK,UAAU,GAAG,CAAC,EAAE,EAAEC,KAAKC,SAAS,CAACP,MAAMK,UAAU,GAAG,GAAG,IAAI;QAC3FF,OAAOG,KAAKC,SAAS,CAACP,MAAMG,IAAI;IAClC,OAAO,IAAIH,iBAAiBQ,OAAO;QACjCN,QAAQ,CAAC,OAAO,EAAEF,MAAMS,OAAO,EAAE;QACjCN,OAAOH,MAAMU,KAAK;IACpB,OAAO;QACLR,QAAQ;IACV;IAEA,MAAM,EAAES,IAAI,EAAEC,UAAU,EAAE,GAAGC,IAAAA,wBAAe,EAAC;QAC3CC,OAAO;QACPC,cAAcb;QACdc,YAAYb;QACZc,iBAAiBC,QAAQC,GAAG,CAACC,UAAU;IACzC;IAEAC,IAAAA,gBAAS,EAAC;QACR,MAAMC,SAASC,SAASC,aAAa,CAAC;QACtCF,OAAOG,WAAW,CAACF,SAASG,cAAc,CAACd;QAC3CW,SAASI,IAAI,CAACF,WAAW,CAACH;IAC5B,GAAG;QAACV;KAAW;IAEf,qBACE,6BAACD,4BACC,6BAACgB,6BACD,6BAACC,4BACC,6BAACC;QACCC,yBAAyB;YACvBC,QAAQpB;QACV;;AAKV;AAEO,SAASZ;IACd,IAAImB,QAAQC,GAAG,CAACa,QAAQ,KAAK,cAAc;QACzC,qBAAO,6BAACC,kCAAmB;IAC7B;IAEA,qBAAO,6BAACnC;AACV"}