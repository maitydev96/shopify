{"version":3,"sources":["/var/gadget/codegen/framework-1756629908236-Rf0PMG/src/remix/ErrorBoundary.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { overlayTemplate } from \"../core/errors/overlay.js\";\nimport { useRouteError } from \"@remix-run/react\";\nimport { ProductionErrorPage } from \"../react-router/ErrorBoundary.js\";\n\nexport function DevelopmentErrorBoundary(): React.ReactNode {\n  const error = useRouteError();\n  let title: string;\n  let data: string | undefined;\n\n  if (typeof error === \"object\" && error !== null && \"status\" in error && \"statusText\" in error && \"data\" in error) {\n    title = `${error.status}${error.statusText ? `: ${JSON.stringify(error.statusText)}` : \"\"}`;\n    data = JSON.stringify(error.data);\n  } else if (error instanceof Error) {\n    title = `Error: ${error.message}`;\n    data = error.stack;\n  } else {\n    title = \"An unknown error occurred\";\n  }\n\n  const { html, javascript } = overlayTemplate({\n    style: \"rr7Frontend\",\n    errorMessage: title,\n    stackTrace: data,\n    environmentSlug: process.env.GADGET_ENV!,\n  });\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.appendChild(document.createTextNode(javascript));\n    document.head.appendChild(script);\n  }, [javascript]);\n\n  return (\n    <html>\n      <head></head>\n      <body>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: html,\n          }}\n        ></div>\n      </body>\n    </html>\n  );\n}\n\nexport function ErrorBoundary(): React.ReactNode {\n  if (process.env.NODE_ENV === \"production\") {\n    return <ProductionErrorPage />;\n  }\n\n  return <DevelopmentErrorBoundary />;\n}\n"],"names":["React","useEffect","overlayTemplate","useRouteError","ProductionErrorPage","DevelopmentErrorBoundary","error","title","data","status","statusText","JSON","stringify","Error","message","stack","html","javascript","style","errorMessage","stackTrace","environmentSlug","process","env","GADGET_ENV","script","document","createElement","appendChild","createTextNode","head","body","div","dangerouslySetInnerHTML","__html","ErrorBoundary","NODE_ENV"],"mappings":"AAAA,OAAOA,SAASC,SAAS,QAAQ,QAAQ;AACzC,SAASC,eAAe,QAAQ,4BAA4B;AAC5D,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,mBAAmB,QAAQ,mCAAmC;AAEvE,OAAO,SAASC;IACd,MAAMC,QAAQH;IACd,IAAII;IACJ,IAAIC;IAEJ,IAAI,OAAOF,UAAU,YAAYA,UAAU,QAAQ,YAAYA,SAAS,gBAAgBA,SAAS,UAAUA,OAAO;QAChHC,QAAQ,GAAGD,MAAMG,MAAM,GAAGH,MAAMI,UAAU,GAAG,CAAC,EAAE,EAAEC,KAAKC,SAAS,CAACN,MAAMI,UAAU,GAAG,GAAG,IAAI;QAC3FF,OAAOG,KAAKC,SAAS,CAACN,MAAME,IAAI;IAClC,OAAO,IAAIF,iBAAiBO,OAAO;QACjCN,QAAQ,CAAC,OAAO,EAAED,MAAMQ,OAAO,EAAE;QACjCN,OAAOF,MAAMS,KAAK;IACpB,OAAO;QACLR,QAAQ;IACV;IAEA,MAAM,EAAES,IAAI,EAAEC,UAAU,EAAE,GAAGf,gBAAgB;QAC3CgB,OAAO;QACPC,cAAcZ;QACda,YAAYZ;QACZa,iBAAiBC,QAAQC,GAAG,CAACC,UAAU;IACzC;IAEAvB,UAAU;QACR,MAAMwB,SAASC,SAASC,aAAa,CAAC;QACtCF,OAAOG,WAAW,CAACF,SAASG,cAAc,CAACZ;QAC3CS,SAASI,IAAI,CAACF,WAAW,CAACH;IAC5B,GAAG;QAACR;KAAW;IAEf,qBACE,oBAACD,4BACC,oBAACc,6BACD,oBAACC,4BACC,oBAACC;QACCC,yBAAyB;YACvBC,QAAQlB;QACV;;AAKV;AAEA,OAAO,SAASmB;IACd,IAAIb,QAAQC,GAAG,CAACa,QAAQ,KAAK,cAAc;QACzC,qBAAO,oBAAChC;IACV;IAEA,qBAAO,oBAACC;AACV"}